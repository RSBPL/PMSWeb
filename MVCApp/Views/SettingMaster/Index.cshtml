@model MVCApp.Models.SettingModel
<style>
    .e-headercell {
        background-color: #14567e !important;
        color: white;
    }

    .e-summarycell {
        background-color: #8fbfdc !important;
    }
</style>
<style>
    /*.modal-dialog {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 1%;
    }

    .modal-content {
        height: auto;
        min-height: 100%;
        border-radius: 0;
    }*/

    /*.modal-header{
        background-color: darkcyan;
    }*/
    #divLoader {
        position: fixed;
        top: 0px;
        right: 0px;
        width: 100%;
        height: 100%;
        background-color: #fff;
        background-image: @Url.Content("~/Image/Loader.gif");
        background-repeat: no-repeat;
        background-position: center;
        z-index: 10000000;
        opacity: 0.4;
        filter: alpha(opacity=40); /* For IE8 and earlier */
    }
    .the-legend{
        box-shadow: 0px 1px 5px #7f8b8f;
    }
</style>
<div id="divLoader" style="display:none;">
    <img src="@Url.Content("~/Image/Loader.gif")" alt="Loader" style="margin-top:15%; margin-left:50%" />
</div>
<div class="breadcrumbs ace-save-state" id="breadcrumbs">
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="@Url.Action("Index", "Home")">Home</a>
        </li>
        <li>
            <a href="#">Setting</a>
        </li>
    </ul>
</div>
<div class="page-content">
    <div class="container" style="width:100%!important">
        <div id="alert"></div>
    </div>
    @*--------Form------------*@
    <div class="container" style="width:100%!important">
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "Form" }))
        {
            @Html.AntiForgeryToken()
            <div class="form-horizontal form-group">
                <fieldset class="the-fieldset bg-info">
                    <div class="row">
                        <div class="col-md-6">
                            <fieldset class="the-fieldset bg-info">
                                <legend class="the-legend"><strong>Tractor Rolling/Fixed planning & Sub-Assembly planning Days.</strong></legend>
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Rolling plan days from current date to plan date.</strong></label>
                                        @Html.TextBoxFor(model => model.RollaingPlanDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.RollaingPlanDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Fixed plan can be change before how many days of planning date.</strong></label>
                                        @Html.TextBoxFor(model => model.FixedPlanDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.FixedPlanDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Sub-Assembly (Hydraulic) plan can be change before how many days of planning date.</strong></label>
                                        @Html.TextBoxFor(model => model.HydraulicDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.HydraulicDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Sub-Assembly (Engine) plan can be change before how many days of planning date.</strong></label>
                                        @Html.TextBoxFor(model => model.EngineDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.EngineDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Sub-Assembly (Reare Axle) plan can be change before how many days of planning date.</strong></label>
                                        @Html.TextBoxFor(model => model.ReareAxleDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.ReareAxleDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="fname" class=""><strong class="text">Sub-Assembly (Transmission) plan can be change before how many days of planning date.</strong></label>
                                        @Html.TextBoxFor(model => model.TransmissionDays, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                        <strong>@Html.ValidationMessageFor(model => model.TransmissionDays, "", new { @class = "text-danger" })</strong>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="col-md-6">
                            <fieldset class="the-fieldset bg-info">
                                <legend class="the-legend"><strong>Shift wise maximum production capacity of Sub-Assembly.</strong></legend><br />
                                <div class="row">
                                    <div class="col-md-12" style="padding-bottom:5px;">
                                        <fieldset class="the-fieldset bg-info">
                                            <legend class="the-legend"><strong>Engine Sub-Assembly.</strong></legend>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (A).</strong></label>
                                                    @Html.TextBoxFor(model => model.Engine_ShiftA, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Engine_ShiftA, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (B).</strong></label>
                                                    @Html.TextBoxFor(model => model.Engine_ShiftB, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Engine_ShiftB, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (C).</strong></label>
                                                    @Html.TextBoxFor(model => model.Engine_ShiftC, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Engine_ShiftC, "", new { @class = "text-danger" })</strong>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12" style="padding-bottom:5px;padding-top:5px;">
                                        <fieldset class="the-fieldset bg-info">
                                            <legend class="the-legend"><strong>Transmission Sub-Assembly.</strong></legend>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (A).</strong></label>
                                                    @Html.TextBoxFor(model => model.Transmission_ShiftA, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Transmission_ShiftA, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (B).</strong></label>
                                                    @Html.TextBoxFor(model => model.Transmission_ShiftB, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Transmission_ShiftB, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (C).</strong></label>
                                                    @Html.TextBoxFor(model => model.Transmission_ShiftC, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Transmission_ShiftC, "", new { @class = "text-danger" })</strong>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12" style="padding-bottom:5px;padding-top:5px;">
                                        <fieldset class="the-fieldset bg-info">
                                            <legend class="the-legend"><strong>ReareAxle Sub-Assembly.</strong></legend>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (A).</strong></label>
                                                    @Html.TextBoxFor(model => model.ReareAxle_ShiftA, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.ReareAxle_ShiftA, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (B).</strong></label>
                                                    @Html.TextBoxFor(model => model.ReareAxle_ShiftB, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.ReareAxle_ShiftB, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (C).</strong></label>
                                                    @Html.TextBoxFor(model => model.ReareAxle_ShiftC, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.ReareAxle_ShiftC, "", new { @class = "text-danger" })</strong>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12" style="padding-bottom:5px;padding-top:5px;">
                                        <fieldset class="the-fieldset bg-info">
                                            <legend class="the-legend"><strong>Hydraulic Sub-Assembly.</strong></legend>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (A).</strong></label>
                                                    @Html.TextBoxFor(model => model.Hydraulic_ShiftA, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Hydraulic_ShiftA, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (B).</strong></label>
                                                    @Html.TextBoxFor(model => model.Hydraulic_ShiftB, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Hydraulic_ShiftB, "", new { @class = "text-danger" })</strong>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="fname" class=""><strong class="text">Shift (C).</strong></label>
                                                    @Html.TextBoxFor(model => model.Hydraulic_ShiftC, null, new { type = "number", min = "1", @class = "form-control input-sm", @autocomplete = "off" })
                                                    <strong>@Html.ValidationMessageFor(model => model.Hydraulic_ShiftC, "", new { @class = "text-danger" })</strong>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="col-md-12 align-right">
                            <button class="btn btn-success btn-sm" type="button" id="btnSave"><i class="ace-icon fa fa-plus-square bigger-110"></i><strong>&nbsp; Save </strong></button>
                        </div>
                    </div>
                </fieldset>
            </div>
        }
    </div>
</div>

<script src="@Url.Content("~/assets/js/jquery-2.1.4.min.js")"></script>
<script src="@Url.Content("~/Scripts/ej2/ej2.min.js")"></script>
<link href="@Url.Content("~/Content/select2/dist/css/select2.min.css")" rel="stylesheet" />
<script src="@Url.Content("~/Content/select2/dist/js/select2.min.js")"></script>

<script>
    $(document).ready(function () {
        GetSetting();
    });

    //Get Setting
    function GetSetting() {
         $.ajax({
              url: '@Url.Action("GetSetting", "SettingMaster")',
              type: "POST",
              contentType: "application/json;charset=utf-8",
              dataType: "json",
              success: function (result) {
                  $.each(result, function (key, item) {
                      if (item.Description == "RollaingPlanDays") {
                          $('#RollaingPlanDays').val(item.Value);
                      }
                      if (item.Description == "FixedPlanDays") {
                          $('#FixedPlanDays').val(item.Value);
                      }
                      if (item.Description == "HydraulicDays") {
                          $('#HydraulicDays').val(item.Value);
                      }
                      if (item.Description == "EngineDays") {
                          $('#EngineDays').val(item.Value);
                      }
                      if (item.Description == "ReareAxleDays") {
                          $('#ReareAxleDays').val(item.Value);
                      }
                      if (item.Description == "TransmissionDays") {
                          $('#TransmissionDays').val(item.Value);
                      }

                      if (item.Description == "Engine_ShiftA") {
                          $('#Engine_ShiftA').val(item.Value);
                      }
                      if (item.Description == "Engine_ShiftB") {
                          $('#Engine_ShiftB').val(item.Value);
                      }
                      if (item.Description == "Engine_ShiftC") {
                          $('#Engine_ShiftC').val(item.Value);
                      }

                      if (item.Description == "Transmission_ShiftA") {
                          $('#Transmission_ShiftA').val(item.Value);
                      }
                      if (item.Description == "Transmission_ShiftB") {
                          $('#Transmission_ShiftB').val(item.Value);
                      }
                      if (item.Description == "Transmission_ShiftC") {
                          $('#Transmission_ShiftC').val(item.Value);
                      }

                      if (item.Description == "ReareAxle_ShiftA") {
                          $('#ReareAxle_ShiftA').val(item.Value);
                      }
                      if (item.Description == "ReareAxle_ShiftB") {
                          $('#ReareAxle_ShiftB').val(item.Value);
                      }
                      if (item.Description == "ReareAxle_ShiftC") {
                          $('#ReareAxle_ShiftC').val(item.Value);
                      }

                      if (item.Description == "Hydraulic_ShiftA") {
                          $('#Hydraulic_ShiftA').val(item.Value);
                      }
                      if (item.Description == "Hydraulic_ShiftB") {
                          $('#Hydraulic_ShiftB').val(item.Value);
                      }
                      if (item.Description == "Hydraulic_ShiftC") {
                          $('#Hydraulic_ShiftC').val(item.Value);
                      }
                  });
              },
              error: function (errormessage) {

              }
         });
    }

    //Save Setting
    $("#btnSave").on("click", function () {
        if (!$("#Form").valid()) {
            return false;
        }
        else {
            $("#divLoader").show();
            $.ajax({
                url: '@Url.Action("SaveSetting", "SettingMaster")',
                data: JSON.stringify({
                    RollaingPlanDays: $('#RollaingPlanDays').val(),
                    FixedPlanDays: $('#FixedPlanDays').val(),
                    HydraulicDays: $('#HydraulicDays').val(),
                    EngineDays: $('#EngineDays').val(),
                    ReareAxleDays: $('#ReareAxleDays').val(),
                    TransmissionDays: $('#TransmissionDays').val(),

                    Engine_ShiftA: $('#Engine_ShiftA').val(),
                    Engine_ShiftB: $('#Engine_ShiftB').val(),
                    Engine_ShiftC: $('#Engine_ShiftC').val(),

                    Transmission_ShiftA: $('#Transmission_ShiftA').val(),
                    Transmission_ShiftB: $('#Transmission_ShiftB').val(),
                    Transmission_ShiftC: $('#Transmission_ShiftC').val(),

                    ReareAxle_ShiftA: $('#ReareAxle_ShiftA').val(),
                    ReareAxle_ShiftB: $('#ReareAxle_ShiftB').val(),
                    ReareAxle_ShiftC: $('#ReareAxle_ShiftC').val(),

                    Hydraulic_ShiftA: $('#Hydraulic_ShiftA').val(),
                    Hydraulic_ShiftB: $('#Hydraulic_ShiftB').val(),
                    Hydraulic_ShiftC: $('#Hydraulic_ShiftC').val()
                }),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    $("#divLoader").hide();
                    if (data.Msg != "" || data.Msg != null) {
                        $('#alert').append('<div class="alert ' + data.ID + '"role = "alert"><strong>' + data.Msg + '</strong><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>');
                        setTimeout(function () { $(".alert").alert('close'); }, 5000);
                    }
                    GetSetting();
                },
                error: function (errormessage) {

                }
            });
        }
    });
</script>